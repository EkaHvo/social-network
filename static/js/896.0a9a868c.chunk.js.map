{"version":3,"file":"static/js/896.0a9a868c.chunk.js","mappings":"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","sources":["webpack://social-network/./src/components/Profile/ProfileInfo/AddPhoto/AddPhoto.module.css?ffc9","components/Profile/ProfileInfo/AddPhoto/AddPhoto.jsx","components/Profile/ProfileStatus/ProfileStatus.jsx","webpack://social-network/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://social-network/./src/components/Profile/Posts/Post/Post.module.css?59e2","components/Profile/Posts/Post/Post.jsx","webpack://social-network/./src/components/Profile/Posts/Posts.module.css?138f","components/Profile/Posts/Posts.jsx","webpack://social-network/./src/components/Profile/Posts/AddPost.tsx/AddPost.module.css?3b37","components/Profile/Posts/AddPost.tsx/AddPost.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","webpack://social-network/./src/components/common/FormControls/FormControls.module.css?7a3d","components/common/FormControls/FormControls.jsx","utils/validators.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"inputWrapper\":\"AddPhoto_inputWrapper__uksxI\",\"inputLabel\":\"AddPhoto_inputLabel__Sg3P0\",\"inputFile\":\"AddPhoto_inputFile__ibZT2\"};","import cls from './AddPhoto.module.css';\n\nexport const AddPhotoInput = ({ onAddPhoto }) => {\n  const onOwnerAvatarChange = (e) =>  {\n    if(e.currentTarget.files.length){\n      onAddPhoto(e.currentTarget.files[0])\n    }\n  }\n\n  return (\n    <label className={cls.inputWrapper}>\n      <input className={cls.inputFile} type='file' onChange={onOwnerAvatarChange}/>\t\t\n      <span className={cls.inputLabel}>\t&#9998;</span>\n    </label>\n  )\n}\n","import { useEffect, useState } from \"react\";\n\nconst ProfileStatus = (props) => {\n  const {status, isOwner, onStatusChange} = props;\n\n  const [ isEditMode, setEditMode] = useState(false);\n  const [ localStatus, setLocalStatus] = useState('');\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  }\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    if(status !== localStatus) {\n      onStatusChange(localStatus);\n    }\n  }\n\n  const updateStatusHandle = (event) => {\n    setLocalStatus(event.target.value);\n  }\n\n  useEffect(()=>{\n    if(status) {\n      setLocalStatus(status)\n    }\n  }, [status])\n\n  if(!isOwner){ return <div>{status}</div> }\n\n  return (\n    <>\n      { \n        isEditMode || !status\n        ? <input autoFocus \n          onBlur={deactivateEditMode} \n          onChange={updateStatusHandle} \n          value={localStatus}/>\n        : <div onClick={activateEditMode}>{localStatus}</div> \n      }\n    </>\n  );\n}\n\nexport default ProfileStatus;\n","// extracted by mini-css-extract-plugin\nexport default {\"profileHeader\":\"ProfileInfo_profileHeader__DVK81\",\"profileDescr\":\"ProfileInfo_profileDescr__d88zk\",\"ownerCover\":\"ProfileInfo_ownerCover__yvNch\",\"ownerCoverAvatar\":\"ProfileInfo_ownerCoverAvatar__SvSOz\",\"ownerInfo\":\"ProfileInfo_ownerInfo__HEJOI\"};","import Avatar from '../../Avatar/Avatar';\nimport { AddPhotoInput } from './AddPhoto/AddPhoto';\nimport ProfileStatus from '../ProfileStatus/ProfileStatus';\nimport cls from './ProfileInfo.module.css';\n\nconst ProfileInfo = (props) => {\n  const { fullName, avatar, status, onStatusChange, isOwner, onAddPhoto } = props;\n\n  return (\n    <div className={cls.profileHeader}>\n      <div className={cls.ownerCover}></div>\n      <div className={cls.profileDescr}>\n        <div className={cls.ownerCoverAvatar}>\n          <Avatar src={avatar}/>\n        </div>\n        { isOwner ?\t<AddPhotoInput onAddPhoto={onAddPhoto}/> : null}\n        <div className={cls.ownerInfo}>\n          <div>{fullName}</div>\n          <ProfileStatus \n            status={status} \n            isOwner={isOwner} \n            onStatusChange={onStatusChange}/>\n        </div>\n      </div>\n    </div>\n\n  );\n}\n\nexport default ProfileInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"post\":\"Post_post__B0GW4\"};","import cls from './Post.module.css';\nimport Avatar from '../../../Avatar/Avatar';\nimport Button from '../../../Button/Button';\n\nconst Post = (props) => {\n  const {id, message, likesCount, onDeletePost} = props;\n  const handleDelete = () => {\n    onDeletePost(id)\n  };\n  \n  return (\n    <div className={cls.post}>\n      <Avatar src='https://i.pinimg.com/originals/1b/8c/4a/1b8c4a21c217008ca89478652c7dc9f6.jpg'/>\n      {message}\n      <div>\n        {likesCount} likes\n      </div>\n      <Button onClick={handleDelete}>Delete</Button>\n    </div>\n  );\n}\n\nexport default Post;\n","// extracted by mini-css-extract-plugin\nexport default {\"posts\":\"Posts_posts__TlcY-\"};","import Post from './Post/Post';\nimport cls from './Posts.module.css';\nimport { memo } from 'react';\n\nconst Posts = memo((props) => {\n  const { posts, onDeletePost } = props;\n\n  return (\n    <div className={cls.posts}>\n      {posts.map(post => <Post key={post.id} id={post.id} message={post.message} likesCount={post.likesCount} onDeletePost={onDeletePost} />)}\n    </div>\n  );\n});\n\nexport default Posts;\n","// extracted by mini-css-extract-plugin\nexport default {\"addPostWrapper\":\"AddPost_addPostWrapper__Z+es3\"};","import Button from '../../../Button/Button';\nimport cls from './AddPost.module.css';\nimport { reduxForm } from 'redux-form';\nimport { maxLengthCreator, required, alphaNumeric } from '../../../../utils/validators';\nimport { createField } from \"../../../common/FormControls/FormControls\";\n\nconst maxLength30 = maxLengthCreator(30);\n\nconst AddPostForm = ({handleSubmit}) => {\n  return (\n    <form onSubmit={handleSubmit} className={cls.addPostWrapper}>\n      {createField('newPostText', 'textarea', 'text', [required, maxLength30], alphaNumeric, 'New post')}\n      <Button>Send</Button>\n    </form>\n  )\n}\n\nexport const AddPostReduxForm = reduxForm({\n  form: 'addPost'\n})(AddPostForm);\n","import ProfileInfo from './ProfileInfo/ProfileInfo';\nimport Posts from './Posts/Posts';\nimport Loader from '../common/Loader/Loader';\nimport {AddPostReduxForm as AddPost} from './Posts/AddPost.tsx/AddPost';\n\nconst Profile = (props) => {\n  const { profile, status, posts, onAddPost, onDeletePost, isOwner, onStatusChange, onAddPhoto } = props;\n\n  if(!profile) {\n    return <Loader/>\n  } else {\n    return (\n      <>\n        <ProfileInfo \n          fullName={profile.fullName}\n          avatar={profile.photos.small}\n          status={status}\n          isOwner={isOwner}\n          onAddPhoto={onAddPhoto}\n          onStatusChange={onStatusChange}/>\n        { isOwner ? <AddPost onSubmit={onAddPost}/> : null }\n        <Posts posts={posts} onDeletePost={onDeletePost}/>\n      </>\n    );\n  }\n}\n\nexport default Profile;\n","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { reset } from 'redux-form';\r\nimport { savePhoto, setProfile, setStatus, updateStatus } from '../../store/profile/action';\r\nimport { addPost, deletePost } from '../../store/profile/slice';\r\nimport Loader from '../common/Loader/Loader';\r\nimport Profile from './Profile';\r\n\r\nconst ProfileContainer = () => {\r\n  const { profile, posts, status, isProfileLoading } = useSelector(state => state.profile);\r\n  const { user } = useSelector(state => state.auth);\r\n\r\n  const dispatch = useDispatch();\r\n  const userId = useParams().userId || user.id;\r\n\r\n  const onAddPost = (values) => {\r\n    dispatch(addPost(values));\r\n    dispatch(reset('addPost'));\r\n  }\r\n\r\n  const onAddPhoto = (file) => {\r\n    dispatch(savePhoto(file));\r\n  }\r\n\r\n  const onDeletePost = (id) => {\r\n    dispatch(deletePost({id}));\r\n  }\r\n\r\n  const onStatusChange = (status) => {\r\n    dispatch(updateStatus(status));\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(setProfile(userId));\r\n    dispatch(setStatus(userId));\r\n  }, [dispatch, userId])\r\n\r\n\r\n  return (\r\n    <>\r\n      { isProfileLoading \r\n          ? <Loader />\r\n          : <Profile\r\n              profile={profile}\r\n              status={status}\r\n              isOwner={userId === user.id}\r\n              onStatusChange={onStatusChange}\r\n              onAddPhoto={onAddPhoto}\r\n              onAddPost={onAddPost}\r\n              onDeletePost={onDeletePost}\r\n              posts={posts} />\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProfileContainer;\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"FormControls_input__N5HU6\",\"textarea\":\"FormControls_textarea__7E6E2\",\"warning\":\"FormControls_warning__mOtLP\",\"error\":\"FormControls_error__mrDja\"};","import classnames from 'classnames';\nimport { Field } from 'redux-form';\nimport cls from './FormControls.module.css';\n\nexport const Input = ({ input, meta, typeComponent, ...restProps }) => { \n  const { touched, error, warning } = meta;\n\n  const hasError = touched && error;\n  const hasWarn = touched && warning;\n\n  const classNames = classnames(cls[typeComponent], hasError && cls.error, hasWarn && cls.warning);\n\n  return (\n    <>\n      {\n        ( typeComponent === 'textarea' && <textarea {...input} {...restProps} className={classNames}/> ) ||\n        ( typeComponent === 'input' && <input {...input} {...restProps} className={classNames}/> ) \n      }\n      { hasError && <span className={cls.error}>{error}</span> }\n      { hasWarn && <span className={cls.warning}>{warning}</span> }\n    </>\n  );\n}\n\nexport const createField = (name, typeComponent, type, validate, warn, placeholder, text, props) => {\n  return (\n    <div>\n      <Field \n        name={name}\n        typeComponent={typeComponent}\n        component={Input} \n        type={type} \n        validate={validate}\n        warn={warn}\n        placeholder={placeholder} \n        {...props}/>\n      { text ? (<span>{text}</span>) : '' }\n    </div>\n  )\n}\n","export const required = value => (value ? undefined : 'Field is required');\r\n\r\nexport const alphaNumeric = value =>(value && /[^a-zA-Z0-9 ]/i.test(value) ? 'Only alphanumeric characters' : undefined);\r\n\r\nexport const maxLengthCreator = max => value => (value && value.length > max ? `Must be ${max} characters or less` : undefined);\r\n"],"names":["AddPhotoInput","onAddPhoto","className","cls","type","onChange","e","currentTarget","files","length","props","status","isOwner","onStatusChange","useState","isEditMode","setEditMode","localStatus","setLocalStatus","useEffect","autoFocus","onBlur","event","target","value","onClick","fullName","avatar","Avatar","src","id","message","likesCount","onDeletePost","Button","memo","posts","map","post","maxLength30","maxLengthCreator","AddPostReduxForm","reduxForm","form","handleSubmit","onSubmit","createField","required","alphaNumeric","profile","onAddPost","photos","small","Loader","useSelector","state","isProfileLoading","user","auth","dispatch","useDispatch","userId","useParams","setProfile","setStatus","updateStatus","file","savePhoto","values","addPost","reset","deletePost","Input","input","meta","typeComponent","restProps","touched","error","warning","hasError","hasWarn","classNames","classnames","name","validate","warn","placeholder","text","Field","component","undefined","test","max"],"sourceRoot":""}