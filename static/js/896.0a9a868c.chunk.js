"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[896],{9896:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var s=t(2791),r=t(8687),o=t(7689),a=t(2381),i=t(4167),u=t(9325),c=t(4786),l=t(4645),d="AddPhoto_inputWrapper__uksxI",f="AddPhoto_inputLabel__Sg3P0",h="AddPhoto_inputFile__ibZT2",p=t(184),m=function(n){var e=n.onAddPhoto;return(0,p.jsxs)("label",{className:d,children:[(0,p.jsx)("input",{className:h,type:"file",onChange:function(n){n.currentTarget.files.length&&e(n.currentTarget.files[0])}}),(0,p.jsx)("span",{className:f,children:" \u270e"})]})},x=t(9439),_=function(n){var e=n.status,t=n.isOwner,r=n.onStatusChange,o=(0,s.useState)(!1),a=(0,x.Z)(o,2),i=a[0],u=a[1],c=(0,s.useState)(""),l=(0,x.Z)(c,2),d=l[0],f=l[1];return(0,s.useEffect)((function(){e&&f(e)}),[e]),t?(0,p.jsx)(p.Fragment,{children:i||!e?(0,p.jsx)("input",{autoFocus:!0,onBlur:function(){u(!1),e!==d&&r(d)},onChange:function(n){f(n.target.value)},value:d}):(0,p.jsx)("div",{onClick:function(){u(!0)},children:d})}):(0,p.jsx)("div",{children:e})},j="ProfileInfo_profileHeader__DVK81",v="ProfileInfo_profileDescr__d88zk",P="ProfileInfo_ownerCover__yvNch",g="ProfileInfo_ownerCoverAvatar__SvSOz",C="ProfileInfo_ownerInfo__HEJOI",N=function(n){var e=n.fullName,t=n.avatar,s=n.status,r=n.onStatusChange,o=n.isOwner,a=n.onAddPhoto;return(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("div",{className:P}),(0,p.jsxs)("div",{className:v,children:[(0,p.jsx)("div",{className:g,children:(0,p.jsx)(l.Z,{src:t})}),o?(0,p.jsx)(m,{onAddPhoto:a}):null,(0,p.jsxs)("div",{className:C,children:[(0,p.jsx)("div",{children:e}),(0,p.jsx)(_,{status:s,isOwner:o,onStatusChange:r})]})]})]})},w="Post_post__B0GW4",Z=t(9894),S=function(n){var e=n.id,t=n.message,s=n.likesCount,r=n.onDeletePost;return(0,p.jsxs)("div",{className:w,children:[(0,p.jsx)(l.Z,{src:"https://i.pinimg.com/originals/1b/8c/4a/1b8c4a21c217008ca89478652c7dc9f6.jpg"}),t,(0,p.jsxs)("div",{children:[s," likes"]}),(0,p.jsx)(Z.Z,{onClick:function(){r(e)},children:"Delete"})]})},k="Posts_posts__TlcY-",A=(0,s.memo)((function(n){var e=n.posts,t=n.onDeletePost;return(0,p.jsx)("div",{className:k,children:e.map((function(n){return(0,p.jsx)(S,{id:n.id,message:n.message,likesCount:n.likesCount,onDeletePost:t},n.id)}))})})),D="AddPost_addPostWrapper__Z+es3",b=t(704),F=t(8610),I=t(7526),O=(0,F.DT)(30),T=(0,b.Z)({form:"addPost"})((function(n){var e=n.handleSubmit;return(0,p.jsxs)("form",{onSubmit:e,className:D,children:[(0,I.G)("newPostText","textarea","text",[F.C1,O],F.fo,"New post"),(0,p.jsx)(Z.Z,{children:"Send"})]})})),y=function(n){var e=n.profile,t=n.status,s=n.posts,r=n.onAddPost,o=n.onDeletePost,a=n.isOwner,i=n.onStatusChange,u=n.onAddPhoto;return e?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(N,{fullName:e.fullName,avatar:e.photos.small,status:t,isOwner:a,onAddPhoto:u,onStatusChange:i}),a?(0,p.jsx)(T,{onSubmit:r}):null,(0,p.jsx)(A,{posts:s,onDeletePost:o})]}):(0,p.jsx)(c.Z,{})},E=function(){var n=(0,r.v9)((function(n){return n.profile})),e=n.profile,t=n.posts,l=n.status,d=n.isProfileLoading,f=(0,r.v9)((function(n){return n.auth})).user,h=(0,r.I0)(),m=(0,o.UO)().userId||f.id;return(0,s.useEffect)((function(){h((0,i.RG)(m)),h((0,i.Tf)(m))}),[h,m]),(0,p.jsx)(p.Fragment,{children:d?(0,p.jsx)(c.Z,{}):(0,p.jsx)(y,{profile:e,status:l,isOwner:m===f.id,onStatusChange:function(n){h((0,i.Nf)(n))},onAddPhoto:function(n){h((0,i.Ju)(n))},onAddPost:function(n){h((0,u.q2)(n)),h((0,a.mc)("addPost"))},onDeletePost:function(n){h((0,u.fR)({id:n}))},posts:t})})}},7526:function(n,e,t){t.d(e,{I:function(){return d},G:function(){return f}});var s=t(8683),r=t(5987),o=t(1694),a=t.n(o),i=t(6139),u={input:"FormControls_input__N5HU6",textarea:"FormControls_textarea__7E6E2",warning:"FormControls_warning__mOtLP",error:"FormControls_error__mrDja"},c=t(184),l=["input","meta","typeComponent"],d=function(n){var e=n.input,t=n.meta,o=n.typeComponent,i=(0,r.Z)(n,l),d=t.touched,f=t.error,h=t.warning,p=d&&f,m=d&&h,x=a()(u[o],p&&u.error,m&&u.warning);return(0,c.jsxs)(c.Fragment,{children:["textarea"===o&&(0,c.jsx)("textarea",(0,s.Z)((0,s.Z)((0,s.Z)({},e),i),{},{className:x}))||"input"===o&&(0,c.jsx)("input",(0,s.Z)((0,s.Z)((0,s.Z)({},e),i),{},{className:x})),p&&(0,c.jsx)("span",{className:u.error,children:f}),m&&(0,c.jsx)("span",{className:u.warning,children:h})]})},f=function(n,e,t,r,o,a,u,l){return(0,c.jsxs)("div",{children:[(0,c.jsx)(i.Z,(0,s.Z)({name:n,typeComponent:e,component:d,type:t,validate:r,warn:o,placeholder:a},l)),u?(0,c.jsx)("span",{children:u}):""]})}},8610:function(n,e,t){t.d(e,{C1:function(){return s},DT:function(){return o},fo:function(){return r}});var s=function(n){return n?void 0:"Field is required"},r=function(n){return n&&/[^a-zA-Z0-9 ]/i.test(n)?"Only alphanumeric characters":void 0},o=function(n){return function(e){return e&&e.length>n?"Must be ".concat(n," characters or less"):void 0}}}}]);
//# sourceMappingURL=896.0a9a868c.chunk.js.map