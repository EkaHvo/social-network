"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[261],{6261:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var o=t(2791),r=t(8687),i=t(7689),s=t(2381),a=t(4167),c=t(9325),l=t(4786),u=t(9439),d="AddPhoto_inputWrapper__uksxI",f="AddPhoto_inputLabel__Sg3P0",p="AddPhoto_inputFile__ibZT2",x=t(184),h=function(n){var e=n.onAddPhoto;return(0,x.jsxs)("label",{className:d,children:[(0,x.jsx)("input",{className:p,type:"file",onChange:function(n){n.currentTarget.files.length&&e(n.currentTarget.files[0])}}),(0,x.jsx)("span",{className:f,children:"\u270e"})]})},j=t(704),m=t(9894),_=t(7526),v="ProfileDataForm_contact__XZhoC",P=function(n){var e=n.name;return(0,x.jsxs)("div",{className:v,children:[(0,x.jsxs)("span",{children:[e,":"]}),(0,_.G)("contacts.".concat(e),"input","text")]},e)},g=(0,j.Z)({form:"editProfile"})((function(n){var e=n.handleSubmit,t=n.contacts;return(0,x.jsxs)("form",{onSubmit:e,children:["Full name: ",(0,_.G)("fullName","input","text"),"About me: ",(0,_.G)("aboutMe","input","text"),"Looking for a job: ",(0,_.G)("lookingForAJob","input","checkbox"),"Looking for a job Description: ",(0,_.G)("lookingForAJobDescription","textarea"),Object.keys(t).map((function(n){return(0,x.jsx)(P,{name:n})})),(0,x.jsx)(m.Z,{children:"Edit profile"})]})})),b="ProfileData_profileExtraInfo__cpj0E",C="ProfileData_contacts__5-XYG",Z="ProfileData_contact__txSV0",k=function(n){var e=n.profile,t=n.isOwner,o=n.toEditMode,r=e.aboutMe,i=e.lookingForAJob,s=e.lookingForAJobDescription,a=e.contacts,c=e.fullName;return(0,x.jsxs)("div",{className:b,children:[c&&(0,x.jsx)("div",{children:(0,x.jsx)("b",{children:c})}),r&&(0,x.jsx)("div",{children:(0,x.jsx)("b",{children:r})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a job: "}),i?"yes":"no"]}),i&&s&&(0,x.jsx)("div",{children:s}),(0,x.jsxs)("div",{className:C,children:[" ",(0,x.jsx)("b",{children:"My contacts:"}),Object.keys(a).map((function(n){return a[n]&&function(n){var e=n.contactTitle,t=n.contactValue;return(0,x.jsxs)("div",{className:Z,children:[(0,x.jsxs)("b",{children:[e,":"]})," ",t]})}({contactTitle:n,contactValue:a[n]})}))]}),t&&(0,x.jsx)(m.Z,{onClick:o,children:"Edit profile"})]})},N=t(4645),D=function(n){var e=n.status,t=n.isOwner,r=n.onStatusChange,i=(0,o.useState)(!1),s=(0,u.Z)(i,2),a=s[0],c=s[1],l=(0,o.useState)(""),d=(0,u.Z)(l,2),f=d[0],p=d[1];return(0,o.useEffect)((function(){e&&p(e)}),[e]),t?(0,x.jsx)(x.Fragment,{children:a||!e?(0,x.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1),e!==f&&r(f)},onChange:function(n){p(n.target.value)},value:f}):(0,x.jsx)("div",{onClick:function(){c(!0)},children:f})}):(0,x.jsx)("div",{children:e})},A={profileHeader:"ProfileInfo_profileHeader__DVK81",profileDescr:"ProfileInfo_profileDescr__d88zk",profileCover:"ProfileInfo_profileCover__RfJF0",profileCoverAvatar:"ProfileInfo_profileCoverAvatar__DPg3N",profileExtraInfo:"ProfileInfo_profileExtraInfo__-KoVZ"},w=function(n){var e=n.status,t=n.onStatusChange,r=n.isOwner,i=n.onAddPhoto,s=n.profile,a=n.onEditProfile,c=s.photos,l=(0,o.useState)(!1),d=(0,u.Z)(l,2),f=d[0],p=d[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:A.profileHeader,children:[(0,x.jsx)("div",{className:A.profileCover}),(0,x.jsxs)("div",{className:A.profileDescr,children:[(0,x.jsx)("div",{className:A.profileCoverAvatar,children:(0,x.jsx)(N.Z,{src:c.small})}),r?(0,x.jsx)(h,{onAddPhoto:i}):null,(0,x.jsx)("div",{className:A.profileMainInfo,children:(0,x.jsx)(D,{status:e,isOwner:r,onStatusChange:t})})]})]}),f?(0,x.jsx)(g,{initialValues:s,contacts:s.contacts,onSubmit:function(n){a(n),p(!1)}}):(0,x.jsx)(k,{profile:s,isOwner:r,toEditMode:function(){p(!0)}})]})},F="Post_post__B0GW4",S=function(n){var e=n.id,t=n.message,o=n.likesCount,r=n.onDeletePost;return(0,x.jsxs)("div",{className:F,children:[(0,x.jsx)(N.Z,{src:"https://i.pinimg.com/originals/1b/8c/4a/1b8c4a21c217008ca89478652c7dc9f6.jpg"}),t,(0,x.jsxs)("div",{children:[o," likes"]}),(0,x.jsx)(m.Z,{onClick:function(){r(e)},children:"Delete"})]})},E="Posts_posts__TlcY-",I=(0,o.memo)((function(n){var e=n.posts,t=n.onDeletePost;return(0,x.jsx)("div",{className:E,children:e.map((function(n){return(0,x.jsx)(S,{id:n.id,message:n.message,likesCount:n.likesCount,onDeletePost:t},n.id)}))})})),O="AddPost_addPostWrapper__Z+es3",y=t(8610),G=(0,y.DT)(30),T=(0,j.Z)({form:"addPost"})((function(n){var e=n.handleSubmit;return(0,x.jsxs)("form",{onSubmit:e,className:O,children:[(0,_.G)("newPostText","textarea","text",[y.C1,G],y.fo,"New post"),(0,x.jsx)(m.Z,{children:"Send"})]})})),M=function(n){var e=n.profile,t=n.status,o=n.posts,r=n.onAddPost,i=n.onDeletePost,s=n.isOwner,a=n.onStatusChange,c=n.onAddPhoto,u=n.onEditProfile;return e?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(w,{status:t,isOwner:s,onAddPhoto:c,onStatusChange:a,onEditProfile:u,profile:e}),s?(0,x.jsx)(T,{onSubmit:r}):null,(0,x.jsx)(I,{posts:o,onDeletePost:i})]}):(0,x.jsx)(l.Z,{})},J=function(){var n=(0,r.v9)((function(n){return n.profile})),e=n.profile,t=n.posts,u=n.status,d=n.isProfileLoading,f=(0,r.v9)((function(n){return n.auth})).user,p=(0,r.I0)(),h=(0,i.UO)().userId||f.id;return(0,o.useEffect)((function(){p((0,a.RG)(h)),p((0,a.Tf)(h))}),[p,h]),(0,x.jsx)(x.Fragment,{children:d?(0,x.jsx)(l.Z,{}):(0,x.jsx)(M,{profile:e,status:u,isOwner:h===f.id,onStatusChange:function(n){p((0,a.Nf)(n))},onEditProfile:function(n){p((0,a.ck)(n))},onAddPhoto:function(n){p((0,a.Ju)(n))},onAddPost:function(n){p((0,c.q2)(n)),p((0,s.mc)("addPost"))},onDeletePost:function(n){p((0,c.fR)({id:n}))},posts:t})})}},7526:function(n,e,t){t.d(e,{I:function(){return d},G:function(){return f}});var o=t(8683),r=t(5987),i=t(1694),s=t.n(i),a=t(6139),c={input:"FormControls_input__N5HU6",textarea:"FormControls_textarea__7E6E2",warning:"FormControls_warning__mOtLP",error:"FormControls_error__mrDja"},l=t(184),u=["input","meta","typeComponent"],d=function(n){var e=n.input,t=n.meta,i=n.typeComponent,a=(0,r.Z)(n,u),d=t.touched,f=t.error,p=t.warning,x=d&&f,h=d&&p,j=s()(c[i],x&&c.error,h&&c.warning);return(0,l.jsxs)(l.Fragment,{children:["textarea"===i&&(0,l.jsx)("textarea",(0,o.Z)((0,o.Z)((0,o.Z)({},e),a),{},{className:j}))||"input"===i&&(0,l.jsx)("input",(0,o.Z)((0,o.Z)((0,o.Z)({},e),a),{},{className:j})),x&&(0,l.jsx)("span",{className:c.error,children:f}),h&&(0,l.jsx)("span",{className:c.warning,children:p})]})},f=function(n,e,t,r,i,s,c,u){return(0,l.jsxs)("div",{children:[(0,l.jsx)(a.Z,(0,o.Z)({name:n,typeComponent:e,component:d,type:t,validate:r,warn:i,placeholder:s},u)),c?(0,l.jsx)("span",{children:c}):""]})}},8610:function(n,e,t){t.d(e,{C1:function(){return o},DT:function(){return i},fo:function(){return r}});var o=function(n){return n?void 0:"Field is required"},r=function(n){return n&&/[^a-zA-Z0-9 ]/i.test(n)?"Only alphanumeric characters":void 0},i=function(n){return function(e){return e&&e.length>n?"Must be ".concat(n," characters or less"):void 0}}}}]);
//# sourceMappingURL=261.57944580.chunk.js.map