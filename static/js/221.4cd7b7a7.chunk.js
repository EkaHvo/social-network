"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[221],{3221:function(n,e,t){t.r(e),t.d(e,{default:function(){return b}});var s=t(2791),r=t(8687),o=t(7689),a=t(2381),i=t(190),u=t(9325),c=t(4645),l=t(9439),d=t(184),f=function(n){var e=n.status,t=n.isOwner,r=n.onStatusChange,o=(0,s.useState)(!1),a=(0,l.Z)(o,2),i=a[0],u=a[1],c=(0,s.useState)(""),f=(0,l.Z)(c,2),m=f[0],p=f[1];return(0,s.useEffect)((function(){e&&p(e)}),[e]),t?(0,d.jsx)(d.Fragment,{children:i||!e?(0,d.jsx)("input",{autoFocus:!0,onBlur:function(){u(!1),e!==m&&r(m)},onChange:function(n){p(n.target.value)},value:m}):(0,d.jsx)("div",{onClick:function(){u(!0)},children:m})}):(0,d.jsx)("div",{children:e})},m="ProfileInfo_profileHeader__DVK81",p="ProfileInfo_profileDescr__d88zk",h="ProfileInfo_ownerCover__yvNch",x="ProfileInfo_ownerCoverAvatar__SvSOz",v="ProfileInfo_ownerInfo__HEJOI",_=function(n){var e=n.fullName,t=n.avatar,s=n.status,r=n.onStatusChange,o=n.isOwner;return(0,d.jsxs)("div",{className:m,children:[(0,d.jsx)("div",{className:h}),(0,d.jsxs)("div",{className:p,children:[(0,d.jsx)("div",{className:x,children:(0,d.jsx)(c.Z,{src:t})}),(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("div",{children:e}),(0,d.jsx)(f,{status:s,isOwner:o,onStatusChange:r})]})]})]})},j="Post_post__B0GW4",C=t(9894),g=function(n){var e=n.id,t=n.message,s=n.likesCount,r=n.onDeletePost;return(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)(c.Z,{src:"https://i.pinimg.com/originals/1b/8c/4a/1b8c4a21c217008ca89478652c7dc9f6.jpg"}),t,(0,d.jsxs)("div",{children:[s," likes"]}),(0,d.jsx)(C.Z,{onClick:function(){r(e)},children:"Delete"})]})},w="Posts_posts__TlcY-",P=(0,s.memo)((function(n){var e=n.posts,t=n.onDeletePost;return(0,d.jsx)("div",{className:w,children:e.map((function(n){return(0,d.jsx)(g,{id:n.id,message:n.message,likesCount:n.likesCount,onDeletePost:t},n.id)}))})})),N=t(4786),Z="AddPost_addPostWrapper__Z+es3",S=t(704),k=t(8610),D=t(7526),O=(0,k.DT)(30),I=(0,S.Z)({form:"addPost"})((function(n){var e=n.handleSubmit;return(0,d.jsxs)("form",{onSubmit:e,className:Z,children:[(0,D.G)("newPostText","textarea","text",[k.C1,O],k.fo,"New post"),(0,d.jsx)(C.Z,{children:"Send"})]})})),F=function(n){var e=n.profile,t=n.status,s=n.posts,r=n.onAddPost,o=n.onDeletePost,a=n.isOwner,i=n.onStatusChange;return e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(_,{fullName:e.fullName,avatar:e.photos.small,status:t,isOwner:a,onStatusChange:i}),a?(0,d.jsx)(I,{onSubmit:r}):null,(0,d.jsx)(P,{posts:s,onDeletePost:o})]}):(0,d.jsx)(N.Z,{})},b=function(){var n=(0,r.v9)((function(n){return n.profile})),e=n.profile,t=n.posts,c=n.status,l=(0,r.v9)((function(n){return n.auth})).user,f=(0,r.I0)(),m=(0,o.UO)().userId||l.id;return(0,s.useEffect)((function(){f((0,i.RG)(m)),f((0,i.Tf)(m))}),[f,m]),(0,d.jsx)(F,{profile:e,status:c,isOwner:m===l.id,onStatusChange:function(n){f((0,i.Nf)(n))},onAddPost:function(n){f((0,u.q2)(n)),f((0,a.mc)("addPost"))},onDeletePost:function(n){f((0,u.fR)({id:n}))},posts:t})}},7526:function(n,e,t){t.d(e,{I:function(){return d},G:function(){return f}});var s=t(8683),r=t(5987),o=t(1694),a=t.n(o),i=t(6139),u={input:"FormControls_input__N5HU6",textarea:"FormControls_textarea__7E6E2",warning:"FormControls_warning__mOtLP",error:"FormControls_error__mrDja"},c=t(184),l=["input","meta","typeComponent"],d=function(n){var e=n.input,t=n.meta,o=n.typeComponent,i=(0,r.Z)(n,l),d=t.touched,f=t.error,m=t.warning,p=d&&f,h=d&&m,x=a()(u[o],p&&u.error,h&&u.warning);return(0,c.jsxs)(c.Fragment,{children:["textarea"===o&&(0,c.jsx)("textarea",(0,s.Z)((0,s.Z)((0,s.Z)({},e),i),{},{className:x}))||"input"===o&&(0,c.jsx)("input",(0,s.Z)((0,s.Z)((0,s.Z)({},e),i),{},{className:x})),p&&(0,c.jsx)("span",{className:u.error,children:f}),h&&(0,c.jsx)("span",{className:u.warning,children:m})]})},f=function(n,e,t,r,o,a,u,l){return(0,c.jsxs)("div",{children:[(0,c.jsx)(i.Z,(0,s.Z)({name:n,typeComponent:e,component:d,type:t,validate:r,warn:o,placeholder:a},l)),u?(0,c.jsx)("span",{children:u}):""]})}},8610:function(n,e,t){t.d(e,{C1:function(){return s},DT:function(){return o},fo:function(){return r}});var s=function(n){return n?void 0:"Field is required"},r=function(n){return n&&/[^a-zA-Z0-9 ]/i.test(n)?"Only alphanumeric characters":void 0},o=function(n){return function(e){return e&&e.length>n?"Must be ".concat(n," characters or less"):void 0}}}}]);
//# sourceMappingURL=221.4cd7b7a7.chunk.js.map